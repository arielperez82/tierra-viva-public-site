---
import { Image } from "astro:assets";
import { CONTACT_EMAIL, NAV_ITEMS } from "../consts";
import Link from "./Link.astro";
import logoHorizontal from "../assets/tierra-viva-investments-logo-horizontal.png";
---

<div class="sticky top-0 z-100 isolate bg-white">
  <header class="border-b border-tierra-neutral/10">
    <div class="mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-3 sm:px-6">
      <Link
        href="/"
        class="flex items-center rounded focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2"
      >
        <Image
          src={logoHorizontal}
          alt="Tierra Viva Investments"
          width={240}
          height={56}
          class="h-12 w-auto sm:h-14"
          decoding="async"
          fetchpriority="high"
        />
      </Link>
      <nav class="hidden items-center gap-1 lg:flex" aria-label="Primary">
        {NAV_ITEMS.map((item) => (
          <Link
            href={item.href}
            class="rounded px-3 py-2 text-sm font-medium text-tierra-forest-dark hover:bg-tierra-sage/20 focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2"
          >
            {item.label}
          </Link>
        ))}
        <a
          href={`mailto:${CONTACT_EMAIL}`}
          class="ml-2 rounded bg-tierra-forest px-4 py-2 text-sm font-medium text-white hover:bg-tierra-forest-dark focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2"
        >
          Start a Conversation
        </a>
      </nav>
      <button
        type="button"
        class="inline-flex h-10 w-10 items-center justify-center rounded text-tierra-neutral hover:bg-tierra-neutral/10 focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2 lg:hidden"
        aria-expanded="false"
        aria-controls="header-menu"
        aria-label="Open menu"
        data-header-toggle
      >
        <span class="sr-only">Open menu</span>
        <svg
          class="h-6 w-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>
    <div
      id="header-menu"
      class="hidden border-t border-tierra-neutral/10 bg-white px-4 py-3 lg:hidden"
      aria-hidden="true"
      data-header-menu
    >
      <ul class="flex flex-col gap-1" role="list">
        {NAV_ITEMS.map((item) => (
          <li>
            <Link
              href={item.href}
              class="block rounded px-3 py-2 text-sm font-medium text-tierra-forest-dark hover:bg-tierra-sage/20 focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2"
            >
              {item.label}
            </Link>
          </li>
        ))}
        <li>
          <a
            href={`mailto:${CONTACT_EMAIL}`}
            class="block rounded bg-tierra-forest px-4 py-2 text-center text-sm font-medium text-white hover:bg-tierra-forest-dark focus:outline-none focus:ring-2 focus:ring-tierra-lime focus:ring-offset-2"
          >
            Start a Conversation
          </a>
        </li>
      </ul>
    </div>
  </header>
</div>

<script src="../scripts/header.ts" />
